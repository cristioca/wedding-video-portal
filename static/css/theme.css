/*
  Wedding Video Portal - Dark Theme & Modern Typography
  Font: Space Grotesk (modern/technical)
*/

:root {
  /* Surfaces */
  --bg-900: #0b0f1a;
  --bg-850: #0e1422;
  --bg-800: #0f1629;
  --surface-800: #111827;
  --surface-700: #1f2937;
  --surface-600: #273449;

  /* Text */
  --text-100: #e5e7eb;
  --text-300: #d1d5db;
  --text-500: #9ca3af;
  --text-muted: #9ca3af; /* alias used in templates */

  /* Brand */
  --primary: #7c3aed; /* violet-600 */
  --primary-700: #6d28d9;
  --accent: #22d3ee;  /* cyan-400 */
  --success: #10b981;
  --warning: #f59e0b;
  --danger: #ef4444;

  /* Misc */
  --radius: 14px;
  --radius-sm: 10px;

  /* Bootstrap var alignment (dark as default) */
  --bs-body-color: var(--text-100);
  --bs-heading-color: var(--text-100);
  --bs-secondary-color: var(--text-300);
  --bs-border-color: rgba(255, 255, 255, 0.1);

  /* Field backgrounds */
  --field-view-bg: rgba(255, 255, 255, 0.07);
  --field-view-border: rgba(255, 255, 255, 0.08);
  --field-edit-bg: rgba(34, 211, 238, 0.08);
  --field-edit-border: rgba(34, 211, 238, 0.3);
}

html, body {
  color-scheme: dark;
}

body {
  background: radial-gradient(1200px 800px at 10% 10%, rgba(124, 58, 237, 0.18) 0%, transparent 40%),
              radial-gradient(1000px 700px at 90% 20%, rgba(34, 211, 238, 0.12) 0%, transparent 45%),
              linear-gradient(180deg, var(--bg-900) 0%, var(--bg-850) 100%);
  color: var(--text-100);
  min-height: 100vh;
  font-family: "Space Grotesk", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  letter-spacing: 0.2px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Navbar */
.navbar {
  background: rgba(10, 15, 26, 0.7) !important;
  backdrop-filter: blur(10px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.06);
}
.navbar-brand {
  font-weight: 700;
  color: var(--text-100) !important;
}
.nav-link {
  color: var(--text-300) !important;
}
.nav-link:hover { color: #fff !important; }

/* Layout */
.main-container {
  padding: 2rem 0;
  min-height: calc(100vh - 56px);
}

/* Cards */
.card {
  background: var(--surface-800);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: var(--radius);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
  overflow: hidden;
}
.card-header {
  background: linear-gradient(135deg, rgba(124, 58, 237, 0.9), rgba(34, 211, 238, 0.6));
  color: #fff;
  font-weight: 600;
  border: none;
  padding: 1.1rem 1.25rem;
}

/* Buttons */
.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-700));
  border: none;
  border-radius: 10px;
  padding: 0.55rem 1.2rem;
  font-weight: 600;
  color: #fff;
}
.btn-primary:hover { filter: brightness(1.08); box-shadow: 0 8px 24px rgba(124, 58, 237, 0.35); }
.btn-outline-primary {
  color: var(--accent);
  border-color: rgba(34, 211, 238, 0.5);
}
.btn-outline-primary:hover {
  background: rgba(34, 211, 238, 0.15);
  border-color: rgba(34, 211, 238, 0.7);
  color: #a8ecf7;
}
.btn-danger { background: linear-gradient(135deg, #ef4444, #dc2626); border: none; }
.btn-warning { background: linear-gradient(135deg, #f59e0b, #d97706); border: none; color: #111; }
.btn-light { background: #e5e7eb; color: #111827; border: none; }
.btn-light:hover { background: #f3f4f6; color: #0f172a; }

/* Forms */
.form-control, .form-select, .form-control:disabled, .form-select:disabled {
  background-color: var(--surface-600);
  border: 1px solid rgba(255, 255, 255, 0.14);
  color: var(--text-100);
  border-radius: 10px;
}
.form-control::placeholder { 
  color: var(--text-500); 
  opacity: 0.5;
}
.form-select::placeholder {
  color: var(--text-500);
  opacity: 0.5;
}
textarea.form-control::placeholder {
  color: var(--text-500);
  opacity: 0.5;
}
.form-control:focus, .form-select:focus {
  border-color: rgba(34, 211, 238, 0.4);
  box-shadow: 0 0 0 0.2rem rgba(34, 211, 238, 0.18);
  background-color: var(--surface-700);
  color: var(--text-100);
}

/* File input (Choose file) - dark theme alignment */
input[type="file"].form-control, input[type="file"] {
  background-color: var(--surface-600);
  color: var(--text-100);
  border: 1px solid rgba(255, 255, 255, 0.14);
  border-radius: 10px;
}
/* Button part of file input (modern browsers) */
input[type="file"]::file-selector-button {
  background: var(--surface-700);
  color: var(--text-100);
  border: 1px solid rgba(255, 255, 255, 0.18);
  border-radius: 8px;
  padding: 0.4rem 0.75rem;
  margin-right: 0.75rem;
  cursor: pointer;
}
input[type="file"]::file-selector-button:hover {
  background: var(--surface-600);
}

/* Select dropdown options in dark mode */
select.form-control option {
  background-color: var(--surface-600);
  color: var(--text-100);
}
select.form-control optgroup {
  background-color: var(--surface-700);
  color: var(--text-100);
}

/* View mode fields (read-only look) */
.form-control-plaintext {
  display: block;
  width: 100%;
  color: var(--text-100);
  background: var(--field-view-bg);
  border: 1px solid var(--field-view-border);
  border-radius: 10px;
  padding: 0.5rem 0.75rem;
  margin-bottom: 0;
  min-height: 42px;
  transition: background-color 0.2s ease, border-color 0.2s ease;
}

/* Edit mode highlight */
.editable-section.editing {
  border-left: 3px solid var(--accent);
  padding-left: 0.75rem;
}
.editable-section.editing .edit-mode .form-control,
.editable-section.editing .edit-mode .form-select,
.editable-section .edit-mode .form-control:focus,
.editable-section .edit-mode .form-select:focus {
  background-color: var(--field-edit-bg);
  border-color: var(--field-edit-border);
  box-shadow: 0 0 0 0.15rem rgba(34, 211, 238, 0.12);
}

/* Tables */
.table {
  color: var(--text-100);
  background: var(--surface-800);
}
.table thead { background: rgba(255, 255, 255, 0.04); }
.table tr { border-color: rgba(255, 255, 255, 0.06); }

/* Badges / Status */
.badge { border-radius: 999px; font-weight: 600; }
.status-planning { background: rgba(245, 158, 11, 0.15); color: #fbbf24; }
.status-filming { background: rgba(34, 211, 238, 0.15); color: #67e8f9; }
.status-editing { background: rgba(124, 58, 237, 0.2); color: #c4b5fd; }
.status-completed { background: rgba(16, 185, 129, 0.15); color: #6ee7b7; }

/* Alerts */
.alert { border: 1px solid rgba(255, 255, 255, 0.08); }
.alert-info { background: rgba(34, 211, 238, 0.12); color: #a7f3d0; }
.alert-success { background: rgba(16, 185, 129, 0.12); color: #86efac; }
.alert-warning { background: rgba(245, 158, 11, 0.12); color: #fcd34d; }
.alert-danger { background: rgba(239, 68, 68, 0.12); color: #fca5a5; }

/* Lists */
.list-group-item {
  background: var(--surface-800);
  color: var(--text-100);
  border-color: rgba(255, 255, 255, 0.06);
}
.list-group-item-action:hover {
  background: rgba(255, 255, 255, 0.04);
}

/* Project cards */
.project-card {
  transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
  cursor: pointer;
}
.project-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 18px 36px rgba(0, 0, 0, 0.45);
}

/* Dropdowns */
.dropdown-menu {
  background-color: var(--surface-800);
  border: 1px solid rgba(255, 255, 255, 0.08);
}
.dropdown-item { color: var(--text-100); }
.dropdown-item:hover { background-color: rgba(255, 255, 255, 0.06); color: #fff; }

/* Language Switcher Dropdown - Solid backgrounds, no transparency */
.language-dropdown {
  background-color: #1f2937 !important;
  border: 1px solid rgba(255, 255, 255, 0.2) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6) !important;
  min-width: 160px !important;
  padding: 0.25rem 0 !important;
  backdrop-filter: none !important;
}

.language-dropdown li {
  background-color: transparent !important;
}

.language-dropdown .dropdown-item,
.language-dropdown button.dropdown-item {
  color: #f3f4f6 !important;
  background-color: #1f2937 !important;
  border: none !important;
  padding: 0.6rem 1rem !important;
  font-size: 0.95rem !important;
  transition: all 0.15s ease !important;
  cursor: pointer !important;
  width: 100% !important;
  text-align: left !important;
  display: block !important;
}

.language-dropdown .dropdown-item:hover,
.language-dropdown button.dropdown-item:hover {
  background-color: #374151 !important;
  color: #ffffff !important;
}

.language-dropdown .dropdown-item.active,
.language-dropdown button.dropdown-item.active {
  background-color: #7c3aed !important;
  color: #ffffff !important;
  font-weight: 600 !important;
}

/* Modals - Dark Theme (Default) */
.modal-content {
  background-color: var(--surface-800) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  color: var(--text-100) !important;
}
.modal-header {
  border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
  background: linear-gradient(135deg, rgba(124, 58, 237, 0.15), rgba(34, 211, 238, 0.1)) !important;
}
.modal-footer {
  border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
  background-color: transparent !important;
}
.modal-title {
  color: var(--text-100) !important;
}
.modal-body {
  color: var(--text-100) !important;
  background-color: var(--surface-800) !important;
}

/* Close button (alerts, modals) on dark */
.btn-close {
  filter: invert(1) grayscale(100%) brightness(200%);
  opacity: 0.7;
}
.btn-close:hover { opacity: 1; }

/* Links */
a { color: #a5b4fc; }
a:hover { color: #c7d2fe; }

/* Field History Modal */
.history-value-box {
  max-height: 150px;
  overflow-y: auto;
  white-space: pre-wrap;
  font-size: 0.9rem;
}
.history-value-old {
  background-color: rgba(108, 117, 125, 0.35) !important;
  color: var(--text-100) !important;
}
.history-value-new {
  background-color: rgba(25, 135, 84, 0.2) !important;
  color: var(--text-100) !important;
}

/* Critical Production Section */
#critical-production-section {
  border-left: 3px solid var(--danger);
  padding-left: 0.75rem;
  background: rgba(239, 68, 68, 0.05);
  border-radius: var(--radius-sm);
  padding: 1rem;
}
#critical-production-section.editing {
  background: rgba(239, 68, 68, 0.1);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.15);
}
#critical-production-section h6 {
  color: var(--danger) !important;
}

/* Fine-tuning */
h1, h2, h3, h4, h5, h6 { letter-spacing: 0.3px; color: var(--text-100); }
/* Ensure small headers inside cards/lists are bright */
.card h6, .editable-section h6, .list-group-item h6 { color: var(--text-100) !important; }
/* Emphasize section headings and delimit sections */
.editable-section + .editable-section {
  border-top: 1px solid var(--bs-border-color);
  padding-top: 1.25rem;
  margin-top: 1.25rem;
}
.editable-section h6 {
  position: relative;
  font-weight: 700;
  padding-bottom: 0.35rem;
}
.editable-section h6::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 84px;
  height: 2px;
  background: linear-gradient(90deg, var(--primary), var(--accent));
  border-radius: 2px;
  opacity: 0.9;
}
.editable-section.editing h6::after {
  height: 3px;
  width: 112px;
  box-shadow: 0 0 12px rgba(34, 211, 238, 0.4);
}
small, .text-muted { color: var(--text-300) !important; }
.text-secondary { color: var(--text-300) !important; }
.text-white-50 { color: rgba(255, 255, 255, 0.7) !important; }
.form-label { color: var(--text-300); }
.form-control-plaintext { color: var(--text-100); }

/* Generic borders */
.border { border-color: rgba(255, 255, 255, 0.1) !important; }

/* Scrollbar (WebKit) */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: var(--bg-850); }
*::-webkit-scrollbar-thumb { background: var(--surface-600); border-radius: 10px; }
*::-webkit-scrollbar-thumb:hover { background: var(--primary-700); }

/* Light Theme Variables & Overrides */
.theme-light {
  /* Surfaces */
  --bg-900: #f2f4f8;
  --bg-850: #f7f9fc;
  --bg-800: #ffffff;
  --surface-800: #ffffff;
  --surface-700: #f8fafc;
  --surface-600: #e5e7eb;

  /* Text */
  --text-100: #0f172a; /* main text becomes dark */
  --text-300: #334155;
  --text-500: #475569;
  --text-muted: #64748b;

  /* Bootstrap var alignment (light) */
  --bs-body-color: var(--text-100);
  --bs-heading-color: var(--text-100);
  --bs-secondary-color: var(--text-500);
  --bs-border-color: rgba(0, 0, 0, 0.1);

  /* Field backgrounds (light) */
  --field-view-bg: rgba(0, 0, 0, 0.06);
  --field-view-border: rgba(0, 0, 0, 0.08);
  --field-edit-bg: rgba(34, 197, 94, 0.08); /* subtle greenish tint on light */
  --field-edit-border: rgba(34, 197, 94, 0.35);
}

body.theme-light {
  background: radial-gradient(1200px 800px at 10% 10%, rgba(124, 58, 237, 0.06) 0%, transparent 40%),
              radial-gradient(1000px 700px at 90% 20%, rgba(34, 211, 238, 0.06) 0%, transparent 45%),
              linear-gradient(180deg, #f8fafc 0%, #eef2f7 100%);
  color: var(--text-100);
}

.theme-light .navbar { background: rgba(255, 255, 255, 0.85) !important; border-bottom: 1px solid rgba(0,0,0,0.06); }
.theme-light .nav-link { color: var(--text-300) !important; }
.theme-light .nav-link:hover { color: #000 !important; }
.theme-light .card { box-shadow: 0 12px 24px rgba(0,0,0,0.08); }
.theme-light .list-group-item { border-color: rgba(0,0,0,0.06); }
.theme-light .dropdown-menu { background-color: #ffffff; border: 1px solid rgba(0,0,0,0.08); }
.theme-light .dropdown-item { color: var(--text-100); }
.theme-light .dropdown-item:hover { background-color: rgba(0,0,0,0.04); color: #000; }

/* Light mode language dropdown overrides */
.theme-light .language-dropdown {
  background-color: #ffffff !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12) !important;
  backdrop-filter: none !important;
}

.theme-light .language-dropdown .dropdown-item,
.theme-light .language-dropdown button.dropdown-item {
  color: #1f2937 !important;
  background-color: #ffffff !important;
}

.theme-light .language-dropdown .dropdown-item:hover,
.theme-light .language-dropdown button.dropdown-item:hover {
  background-color: #f3f4f6 !important;
  color: #111827 !important;
}

.theme-light .language-dropdown .dropdown-item.active,
.theme-light .language-dropdown button.dropdown-item.active {
  background-color: #7c3aed !important;
  color: #ffffff !important;
}
.theme-light .btn-close { filter: none; opacity: 0.6; }
.theme-light .btn-close:hover { opacity: 1; }
.theme-light .alert { border-color: rgba(0,0,0,0.08); }
.theme-light .table tr { border-color: rgba(0,0,0,0.06); }
.theme-light .list-group-item-action:hover { background: rgba(0,0,0,0.04); }
.theme-light a { color: #4338ca; }
.theme-light a:hover { color: #3730a3; }
.theme-light .text-white-50 { color: rgba(0, 0, 0, 0.45) !important; }
.theme-light .text-white { color: var(--text-100) !important; }

/* Light theme button tweaks: make outline-primary (Edit buttons) a bit darker */
.theme-light .btn-outline-primary {
  color: #0891b2; /* darker cyan for better contrast on white */
  border-color: rgba(6, 182, 212, 0.7);
}
.theme-light .btn-outline-primary:hover {
  background: rgba(6, 182, 212, 0.12);
  border-color: rgba(6, 182, 212, 0.85);
  color: #0e7490; /* slightly darker on hover */
}

/* Light theme modal overrides */
.theme-light .modal-content {
  background-color: #ffffff !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  color: var(--text-100) !important;
}
.theme-light .modal-header {
  border-bottom: 1px solid rgba(0, 0, 0, 0.1) !important;
  background: linear-gradient(135deg, rgba(124, 58, 237, 0.08), rgba(34, 211, 238, 0.06)) !important;
}
.theme-light .modal-body {
  background-color: #ffffff !important;
  color: var(--text-100) !important;
}
.theme-light .modal-footer {
  border-top: 1px solid rgba(0, 0, 0, 0.1) !important;
  background-color: transparent !important;
}
.theme-light .history-value-old {
  background-color: rgba(108, 117, 125, 0.2) !important;
  color: var(--text-100) !important;
}
.theme-light .history-value-new {
  background-color: rgba(25, 135, 84, 0.12) !important;
  color: var(--text-100) !important;
}

/* Light theme critical production section */
.theme-light #critical-production-section {
  background: rgba(239, 68, 68, 0.08);
}
.theme-light #critical-production-section.editing {
  background: rgba(239, 68, 68, 0.12);
  box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}
